(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[31],{1532:function(e,t,o){(e.exports=o(9)(!1)).push([e.i,'[class*="gui_tabs_"] {\n  --sa-category-width: 60px;\n  --sa-flyout-width: 250px;\n  --sa-toolbox-width: calc(var(--sa-category-width) + var(--sa-flyout-width));\n}\n\n.injectionDiv {\n  border-left-color: transparent;\n}\n\n[dir="rtl"] .injectionDiv {\n  border-left-color: var(--ui-black-transparent, rgba(0, 0, 0, 0.15));\n  border-right-color: transparent;\n}\n\n.injectionDiv::after {\n  /* left border of the code area:\n     must be above the flyout and below the extension button */\n  content: "";\n  display: block;\n  position: absolute;\n  z-index: 40;\n  top: 0;\n  bottom: 8px;\n  left: -1px;\n  border-left: 1px solid var(--ui-black-transparent, rgba(0, 0, 0, 0.15));\n}\n\n[dir="rtl"] .injectionDiv::after {\n  left: auto;\n  right: -1px;\n}\n\n.blocklyFlyout,\n.blocklyFlyoutScrollbar,\n.sa-lock-image {\n  transition-property: margin;\n}\n\n[dir="ltr"] .blocklyFlyout.sa-flyoutClose,\n[dir="ltr"] .blocklyFlyoutScrollbar.sa-flyoutClose,\n[dir="ltr"] .sa-lock-image.sa-flyoutClose {\n  margin-left: calc(0px - var(--sa-flyout-width) - 10px);\n}\n\n[dir="rtl"] .blocklyFlyout.sa-flyoutClose,\n[dir="rtl"] .blocklyFlyoutScrollbar.sa-flyoutClose {\n  margin-left: calc(var(--sa-flyout-width) + 10px);\n}\n\n[dir="rtl"] .sa-lock-image.sa-flyoutClose {\n  margin-right: calc(0px - var(--sa-flyout-width) - 10px);\n}\n\n.sa-flyout-placeHolder {\n  display: var(--hideFlyout-placeholderDisplay) !important;\n  position: absolute;\n  top: 0;\n  left: calc(var(--sa-category-width) + 1px);\n  height: 100%;\n  width: calc(var(--sa-flyout-width) + 1px);\n}\n\n[dir="rtl"] .sa-flyout-placeHolder {\n  left: auto;\n  right: calc(var(--sa-category-width) + 1px);\n}\n\n.sa-lock-image {\n  display: var(--hideFlyout-lockDisplay) !important;\n  position: absolute;\n  z-index: 20;\n  cursor: pointer;\n  top: 4px;\n  left: calc(var(--sa-toolbox-width) - 15px - 32px);\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--ui-primary, white);\n  border: 1px solid var(--ui-black-transparent, rgba(0, 0, 0, 0.15));\n  border-radius: 4px;\n}\n\n.sa-lock-image.locked {\n  background-color: #ff4c4c;\n  border-color: #cc4c4c;\n}\n\n.sa-lock-image img {\n  width: 20px;\n}\n\n[theme="dark"] .sa-lock-image img {\n  filter: brightness(200%);\n}\n\n[dir="rtl"] .sa-lock-image {\n  left: auto;\n  right: calc(var(--sa-toolbox-width) - 15px - 32px);\n}\n\n/* Setting these styles on gui_stage-and-target-wrapper breaks full screen */\n[class*="gui_body-wrapper_" ] [class*="stage-wrapper_stage-wrapper_"]:not([class*="stage-wrapper_full-screen"]),\n[class*="gui_target-wrapper_"] {\n  /* must cover the hidden palette when editor-stage-left is enabled */\n  position: relative;\n  z-index: 31;\n  padding-inline: 0.5rem;\n}\n\n[class*="gui_stage-and-target-wrapper_"] {\n  padding: 0;\n}\n',""])},1587:function(e,t,o){"use strict";o.r(t),o.d(t,"resources",(function(){return s}));function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var r=o(1532);const s={"userscript.js":async function({addon:e,global:t,console:o,msg:n}){let a=null,r=null,s=null,c=null,i=null,d=!1,g=!1,u=!1,p=!0;const y=await e.tab.traps.getBlockly(),M=()=>{const e=m();document.documentElement.style.setProperty("--hideFlyout-lockDisplay",{hover:"flex",cathover:"flex",category:"none"}[e]);document.documentElement.style.setProperty("--hideFlyout-placeholderDisplay",{hover:"block",cathover:"none",category:"none"}[e])};function b(){return{none:"0",short:"0.25",default:"0.5",long:"1"}[e.settings.get("speed")]}function m(){return e.settings.get("toggle")}function f(e){for(let t of[c,i,r])t.style.transitionDuration="".concat(e,"s")}function v(){for(let e of[c,i,r])e.style.removeProperty("transition-duration")}function I(){r.title=n(g?"unlock":"lock"),s.src=(e=>{if("/lock.svg"===e)return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgc3R5bGU9Ii1tcy10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiAxM2ExIDEgMCAwIDAtMSAxdjNhMSAxIDAgMCAwIDIgMHYtM2ExIDEgMCAwIDAtMS0xem01LTRWN0E1IDUgMCAwIDAgNyA3djJhMyAzIDAgMCAwLTMgM3Y3YTMgMyAwIDAgMCAzIDNoMTBhMyAzIDAgMCAwIDMtM3YtN2EzIDMgMCAwIDAtMy0zek05IDdhMyAzIDAgMCAxIDYgMHYySDl6bTkgMTJhMSAxIDAgMCAxLTEgMUg3YTEgMSAwIDAgMS0xLTF2LTdhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==";if("/unlock.svg"===e)return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgc3R5bGU9Ii1tcy10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiAxM2ExLjQ5IDEuNDkgMCAwIDAtMSAyLjYxVjE3YTEgMSAwIDAgMCAyIDB2LTEuMzlBMS40OSAxLjQ5IDAgMCAwIDEyIDEzem01LTRIOVY3YTMgMyAwIDAgMSA1LjEyLTIuMTMgMy4wOCAzLjA4IDAgMCAxIC43OCAxLjM4IDEgMSAwIDEgMCAxLjk0LS41IDUuMDkgNS4wOSAwIDAgMC0xLjMxLTIuMjlBNSA1IDAgMCAwIDcgN3YyYTMgMyAwIDAgMC0zIDN2N2EzIDMgMCAwIDAgMyAzaDEwYTMgMyAwIDAgMCAzLTN2LTdhMyAzIDAgMCAwLTMtM3ptMSAxMGExIDEgMCAwIDEtMSAxSDdhMSAxIDAgMCAxLTEtMXYtN2ExIDEgMCAwIDEgMS0xaDEwYTEgMSAwIDAgMSAxIDF6IiBmaWxsPSIjNTc1ZTc1Ii8+PC9zdmc+";throw new Error("Unknown asset: ".concat(e))})("/".concat(g?"":"un","lock.svg")),g?r.classList.add("locked"):r.classList.remove("locked")}function h(e,t={}){e&&0!==e.buttons&&!document.querySelector(".blocklyToolboxDiv").className.includes("blocklyToolboxDelete")||(f(t="object"==typeof t?b():t),c.classList.remove("sa-flyoutClose"),i.classList.remove("sa-flyoutClose"),r.classList.remove("sa-flyoutClose"),setTimeout(()=>{y.getMainWorkspace().recordCachedAreas(),v()},1e3*t)),u=!1}function A(e,t=b()){g||(e&&e.buttons?u=!0:(f(t),c.classList.add("sa-flyoutClose"),i.classList.add("sa-flyoutClose"),r.classList.add("sa-flyoutClose"),setTimeout(()=>{y.getMainWorkspace().recordCachedAreas(),v()},1e3*t)))}e.settings.addEventListener("change",M),M();let x=!1;function D(){if(x)return;x=!0,e.tab.redux.initialize(),e.tab.redux.addEventListener("statechanged",t=>{switch(t.detail.action.type){case"scratch-gui/navigation/ACTIVATE_TAB":const o=m();0!==t.detail.action.activeTabIndex||e.self.disabled||"hover"!==o&&"cathover"!==o||(A(null,0),d=!1)}}),document.body.addEventListener("mouseup",()=>{u&&(A(),u=!1)}),e.self.enabledLate&&"category"===m()&&y.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),e.self.addEventListener("disabled",()=>{y.getMainWorkspace().getToolbox().selectedItem_.setSelected(!0),y.svgResize(y.getMainWorkspace())}),e.self.addEventListener("reenabled",()=>{"category"===m()&&(y.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),A(null,0),d=!1),y.svgResize(y.getMainWorkspace())}),e.settings.addEventListener("change",()=>{e.self.disabled||("category"===m()?g?(d=!0,g=!1,I()):(y.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),A(null,0),d=!1):(A(),y.getMainWorkspace().getToolbox().selectedItem_.setSelected(!0)),y.svgResize(y.getMainWorkspace()))});const t=y.Toolbox.prototype.setSelectedItem;y.Toolbox.prototype.setSelectedItem=function(o,n=!0){const l=this.selectedItem_;t.call(this,o,n),e.self.disabled||"category"!==m()||(n?o===l?(d=!d,d?h():(A(),o.setSelected(!1))):d||(p=!1,d=!0,h()):o.setSelected(!1))};const o=y.Toolbox.prototype.selectCategoryById;y.Toolbox.prototype.selectCategoryById=function(...t){if(e.self.disabled||"category"!==m()||d)return o.call(this,...t)};const n=y.Flyout.prototype.stepScrollAnimation;y.Flyout.prototype.stepScrollAnimation=function(...e){return p?n.apply(this,e):(this.scrollbar_.set(this.scrollTarget),this.scrollTarget=null,void(p=!0))};const a=y.WorkspaceSvg.getTopLevelWorkspaceMetrics_;y.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var t,o;const n=a.call(this);return e.self.disabled||"hover"===m()||this.RTL||310===(null===(t=this.getToolbox())||void 0===t||null===(o=t.flyout_)||void 0===o?void 0:o.getWidth())?n:l(l({},n),{},{absoluteLeft:n.absoluteLeft-250,viewWidth:n.viewWidth+250})},y.getMainWorkspace()&&(y.getMainWorkspace().getMetrics=y.WorkspaceSvg.getTopLevelWorkspaceMetrics_)}for(;;){c=await e.tab.waitForElement(".blocklyFlyout",{markAsSeen:!0,reduxCondition:e=>!e.scratchGui.mode.isPlayerOnly}),i=document.querySelector(".blocklyFlyoutScrollbar");const t=document.querySelector('[class*="gui_blocks-wrapper_"]');a&&a.remove(),a=document.createElement("div"),t.appendChild(a),a.className="sa-flyout-placeHolder",a.style.display="none",r&&r.remove(),r=document.createElement("button"),t.appendChild(r),r.className="sa-lock-image",r.style.display="none",s=document.createElement("img"),s.alt="",r.appendChild(s),I(),r.onclick=()=>{g=!g,I()},A(null,0),d=!1;const o=document.querySelector(".blocklyToolboxDiv"),n=document.querySelector("[class^=gui_extension-button-container_]");for(let t of[o,n,c,i,r])t.onmouseenter=t=>{const o=m();e.self.disabled||"hover"!==o&&"cathover"!==o||h(t)},t.onmouseleave=t=>{const o=m();e.self.disabled||"hover"!==o&&"cathover"!==o||A(t)};a.onmouseenter=t=>{e.self.disabled||"hover"!==m()||h(t)},a.onmouseleave=t=>{e.self.disabled||"hover"!==m()||A(t)},D(),"hover"!==m()&&y.svgResize(y.getMainWorkspace())}},"style.css":o.n(r).a}}}]);